---
layout:     post
title:      "金融数据处理"
subtitle:
date:       2016-11-19 12:00:00
author:     "随机漫步的傻瓜"
header-img: "img/post-bg-2015.jpg"
catalog: true
tags:
    - 量化投资
---

# 金融数据处理

- 时间戳数据通常把所有时间点都转换成一个基准时间后再做分析
- 时间往往在因果关系中扮演着至关重要的角色
- 对于时间序列数据来说，通常要计算“移动平均”，也就是你在某个时点t上所知道的局部均值，在标准化时也应该使用该局部均值，而非全局均值
- 金融中用的比较多的是对数收益率，相比于绝对百分比收益率，对数收益率具有可加性。对数收益率另外一条有趣的性质是”对称性”。如果数据的频率较高，百分比收益率与对数收益率之间的差距非常小。故对于高频数据，可以用对数收益率很好的近似百分比收益率，并且可以保留对数收益率可加性和对称性的优良特性
- 金融数据通常服从“肥尾”分布
- 收益率的变化程度称为收益率的波动率，通常用收益率样本的标准差作为波动率估计
- 波动率计算的关键问题在于样本回溯窗口期的设定，也就是说对于某个时点t的波动率，适合用多少期之前的样本来估计。回溯窗口期越长，能够用到的信息越多；窗口期越短，波动率对新样本的加入则可能更加敏感。其次，在计算波动率时，对于窗口期内的数据点，我们还要决定如何确定每个数据各自的权重大小。在窗口期内离计算时点越近的点往往对其影响更大，因此在计算波动率时权重的赋值可以根据时间的差距逐渐递减。这种逐渐递减的家孙方法也称作“指数平滑”：离得越远的数据其权重会指数式的递减。确定了窗口期和平滑指数值之后，对窗口期内的每个收益率值取平方，乘以其对应的相对权重后相加取和（平方和项），再取其平方根就得到了波动率的估计值
- 定量分析的研究人员应该始终铭记于心的是，模型的预测效果市场会很快地回应。也就是说，就算模型能够通过分析数据在市场中赚钱，其效用迟早也会消失。这通常称作：市场的学习能力。这就是市场的学习过程，每个人都在做出预判，每个人都在看别人如何预判，而市场会做出它最平衡的决定。这样的学习能力所导致的直接后果就是市场的遗忘性，即现存信号对未来市场走势的指导能力很弱。
- 因此，机器学习模型中的很多用来衡量模型好坏的标准，比如模型的精确度、准确度等，都不太适用于衡量一个金融模型的优劣。更经常使用的是模型的PnL值，PnL指的是模型所获取的实际收益与实际损失的差值，代表了模型的日度表现波动情况，从计算上来看就是今天的表现值减去昨天的表现值
- 从形式上不妨把金融数据的时间轨迹看做一个连续的、形式未知的而复杂的函数。由于函数都可以用泰勒展开表示成一系列成分相加的形式。因此，从形式上，线性模型似乎比较适用于对其建模
- 自回归系数的计算很简单，如果要计算一阶自回归系数，首先需要将时间序列整体后移一位（其长度要与原序列相同），原序列和后移序列之间的简单相关系数即代表原序列的一阶自回归系数
