---
layout:     post
title:      "金融数据处理"
subtitle:
date:       2016-11-21 15:00:00
author:     "随机漫步的傻瓜"
header-img: "img/post-bg-2015.jpg"
catalog: true
tags:
    - 量化投资
---

# 金融数据处理

- 时间戳数据通常把所有时间点都转换成一个基准时间后再做分析
- 时间往往在因果关系中扮演着至关重要的角色
- 对于时间序列数据来说，通常要计算“移动平均”，也就是你在某个时点t上所知道的局部均值，在标准化时也应该使用该局部均值，而非全局均值
- 金融中用的比较多的是对数收益率，相比于绝对百分比收益率，对数收益率具有可加性。对数收益率另外一条有趣的性质是”对称性”。如果数据的频率较高，百分比收益率与对数收益率之间的差距非常小。故对于高频数据，可以用对数收益率很好的近似百分比收益率，并且可以保留对数收益率可加性和对称性的优良特性
- 金融数据通常服从“肥尾”分布
- 收益率的变化程度称为收益率的波动率，通常用收益率样本的标准差作为波动率估计
- 波动率计算的关键问题在于样本回溯窗口期的设定，也就是说对于某个时点t的波动率，适合用多少期之前的样本来估计。回溯窗口期越长，能够用到的信息越多；窗口期越短，波动率对新样本的加入则可能更加敏感。其次，在计算波动率时，对于窗口期内的数据点，我们还要决定如何确定每个数据各自的权重大小。在窗口期内离计算时点越近的点往往对其影响更大，因此在计算波动率时权重的赋值可以根据时间的差距逐渐递减。这种逐渐递减的家孙方法也称作“指数平滑”：离得越远的数据其权重会指数式的递减。确定了窗口期和平滑指数值之后，对窗口期内的每个收益率值取平方，乘以其对应的相对权重后相加取和（平方和项），再取其平方根就得到了波动率的估计值
- 定量分析的研究人员应该始终铭记于心的是，模型的预测效果市场会很快地回应。也就是说，就算模型能够通过分析数据在市场中赚钱，其效用迟早也会消失。这通常称作：市场的学习能力。这就是市场的学习过程，每个人都在做出预判，每个人都在看别人如何预判，而市场会做出它最平衡的决定。这样的学习能力所导致的直接后果就是市场的遗忘性，即现存信号对未来市场走势的指导能力很弱。
- 因此，机器学习模型中的很多用来衡量模型好坏的标准，比如模型的精确度、准确度等，都不太适用于衡量一个金融模型的优劣。更经常使用的是模型的PnL值，PnL指的是模型所获取的实际收益与实际损失的差值，代表了模型的日度表现波动情况，从计算上来看就是今天的表现值减去昨天的表现值
- 从形式上不妨把金融数据的时间轨迹看做一个连续的、形式未知的而复杂的函数。由于函数都可以用泰勒展开表示成一系列成分相加的形式。因此，从形式上，线性模型似乎比较适用于对其建模
- 自回归系数的计算很简单，如果要计算一阶自回归系数，首先需要将时间序列整体后移一位（其长度要与原序列相同），原序列和后移序列之间的简单相关系数即代表原序列的一阶自回归系数
- 统计套利是一种基于模型的套利策略，它从资产的历史交易数据找寺规律，发现两个或者两个以上的资产之间存在的套利机会，然后通过模型拟合资产价格的变化规律，设定交易阀值，通过计算机程序根据市场的实时信息自劢发出交易信号而进行套利
- 成对交易，即价差交易，是统计套利最常用的策略，指在构建某一资产多头的同时，构建另一种资产的空头，幵在将来某一时刻同时了结两资产的头寸。这是一种市场中性策略，可以免疫市场风险，通过捕捉两个或者多个资产之间的相对错误定价机会来获得低风险收益
- 主成分分析法，该策略通过分析不股票收益率相关的多种因素，建立回归模型，通过分析资产实际价格和模型预测价格之间的差异来获利。当实际资产价格高于模型预测价格时，则说明该资产被高估了，卖出该资产，待到实际资产价格不模型预测价格相等时，再买入该资产以平掉之前的空头头寸。反之则进行相反操作
- 算法交易又称自动交易、黑盒交易或者机器交易，它指的是通过使用计算机程序来发出交易指令的方法。在交易中，程序可以决定的范围包括交易时间的选择、交易的价格，甚至包括最后需要成交的证券数量
- 被动型算法交易除利用历史数据估计交易模型的关键参数外，不会根据市场的状况主动选择交易的时机不交易的数量，而是按照一个既定的交易方针进行交易。该策略的核心是减少滑价(目标价与实际成交均价的差)。被动型算法交易最成熟，使用也最为广泛，如在国际市场上使用最多的成交量加权平均价格(VWAP)、时间加权平均价格(TWAP)等都属于被动型算法交易
- 主动型算法交易也叫机会型算法交易。这类交易算法根据市场的状况做出实时的决策，判断是否交易、交易的数量、交易的价格等
- 高频交易是指从那些人们无法利用的极为短暂的市场变化中寻求获利的计算机化交易，比如，某种证券买入价和卖出价差价的微小变化，或者某只股票在不同交易所之间的微小价差。这种交易的速度如此之快，以至于有些交易机构将自己的 “服务器群组”(server farms)安置到了离交易所的计算机很近的地方，以缩短交易指令通过光缆以光速旅行的距离。
