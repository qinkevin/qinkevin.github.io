---
layout: post
title: "数据仓库"       # Title of the post
subtitle:
date:       2017-01-11 22:00:00
author:     "随机漫步的傻瓜"
header-img: "img/post-bg-2015.jpg"
catalog: true
tags:
    - 其他
---

# 数据仓库
- 在数据仓库的维度设计中，度量我们称作事实，环境我们称作维度
- 在星型模式中，每个维度都分配有一个代理键。该列是维度表的唯一标识符，是维度表的主键，只在数据仓库中创建。代理键没有内在含义，通常表现为一个整数
- 多数维度表中都包含一个或多个自然键。自然键不能唯一地区分数据仓库中的行，但能区分来自源系统中对应的实体
- 将代理键作为唯一标识符的好处：1）允许数据仓库对源系统发生的变化做出响应，维护历史信息，适应分析型系统的需求；2）避免多列连接，查询优化
- 维度表中会存在大量冗余，可以将重复出现的属性，例如品牌属性提取出来单独存放在一张表中，品牌表就是支架表，采用的模式称为雪花模式
- 尽可能将事实表的粒度设置为最详细的数据粒度级别，这一原则有助于确保分析型应用具有最大的灵活性
- 有时，不可能将所有与业务相关的维度分类到一个紧凑的表集合中，当将一个或多个维度存储到事实表时，这个存储到事实表中的维度列被称为退化维，简称退化列。虽然被存储在事实表中，但该列仍应被视为维度。避免过度使用退化维，因为事实表的快速增长会导致存储空间的过度消耗。如果一个属性不是事务标识，应考虑将其放置到杂项维度中。事务标识通常作为退化维度存储，它可以作为事实表中行的唯一标识，并用于定义事实表的粒度
- 采用维度设计方案时，确定数据源的变化情况在维度表中表示非常重要。这就涉及到缓慢变化的维度，简称缓慢变化维。应对数据元素改变存在不同的响应方式。有三种类型的缓慢变化，分别是：缓慢变化类型一（重写事务历史），缓慢变化类型二（保留变化情况），缓慢变化类型三（不需要历史环境、但需要使用数据元素变化 前和变化后的数值的环境）
- 当一个维度值的源发生变化，并且不需要在星型模式中保留变化历史时，通常采用类型一来相应变化情况。仅仅使用变化的值重写维度即可。该技术通常用于更改错误。多数操作系统的变化采用变化类型2处理。变化类型2保留了事实的历史环境，并插入新的维度行
- 维度模型并不总是采用关系数据库实现。多维数据库，或称MDB，以一种称为多维数据集的方式存储维度信息。多维数据集的基本概念背后隐藏的思想是通过预先计算维度值和事实值的方式来获得各种组合值
- 比较两个过程的适当的方法是横向钻取。横向钻取通过将数据集分解为多个步骤来实现。第一步：按照相同的细节层次从每个星型模式中汇总事实;第二步:合并汇总的事实。
- 大多数的DW都采用星形模式。星形模式的结构主要有以下三点：一个含大量而无冗余数据的事实表；若干相对含有较少数据的维表；每个维度自主组成一个维表，每个维表有一个维标识符与事实表发生联系，其图形描述呈星形。
- 雪花模式是对星形模式的扩展，实际上是对星形模式的规范化。雪花模式对星形模式的维表进一步层次化，原来的各维表可能被扩展为小的事实表，形成一些局部的“层次”区域。它的优点是最大限度地减少数据存储量，以及把较小的维表联合在一起改善查询性能。
- DW中的脏数据是在数据源中抽取、转换和装载到DW的过程中出现的多余数据和无用数据
- 休眠数据是指那些当前不使用，将来也很少使用或不使用的存在于DW中的数据
